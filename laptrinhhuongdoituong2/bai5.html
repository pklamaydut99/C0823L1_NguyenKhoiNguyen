<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Phát triển ứng dụng mô phỏng lại quá trình mèo bắt chuột và ăn chuột</title>
</head>
<body>
<script>
    let Rat = function (name, weight, speed) {
        this.name = name
        this.weight = weight
        this.speed = speed
        this.checkRatDie = function (check) {
            this.ratDie = check
        }
        this.getName = function () {
            return this.name
        }
        this.getWeight = function () {
            return this.weight
        }
        this.getSpeed = function () {
            return this.speed
        }

        this.checkStatus = function () {
            if (this.status == false) {
                console.log("Chuột "+ this.name+" đã chết")
                return false
            }
            console.log("Chuột "+this.name+" Còn sống")
            return true
        }

        this.life = function () {
            this.status = true
        }
        this.die = function () {
            this.status = false
        }
        this.stay = function () {
            console.log("Chít chít")
        }
    }


    let Cat = function (name, weight, speed) {
        this.name = name
        this.weight = weight
        this.speed = speed
        this.getSpeedCat = function () {
            return this.speed
        }
        this.getWeightCat = function () {
            return this.weight
        }
        this.getNameCat = function () {
            return this.name
        }
        this.getRat = function (target) {
            this.rat = target
        }
        //info chuột
        this.getInfoRat = function () {
            this.info = "Name: "+this.rat.getName()+" - Weight: "+this.rat.getWeight()+" kg - Speed:"+this.rat.getSpeed()+" km/h"
            return this.info
        }

        //info mèo
        this.getInfoCat = function () {
            this.infoCat = "Name: "+this.name+" - Weight: "+this.weight+" kg - Speed:"+this.speed+" km/h"
            return this.infoCat
        }

        this.stayCat = function () {
            console.log("Meo Meo")
        }
        this.catchRat = function () {
            if (this.rat.checkStatus()) {
                if (this.rat.getSpeed() > this.speed){
                    console.log(this.rat.getName()+" đã chạy thoát vì quá nhanh")
                }else{
                    this.weight += this.rat.getWeight()
                    console.log(this.name+" đã ăn được "+this.rat.getName()+" và tăng thêm "+this.rat.getWeight()+" kg = "+this.weight+" kg")
                }
            }else {
                this.rat.getName()
                console.log(this.name+" không thèm ăn")
            }
        }
    }

    let chuot1 = new Rat("Jelly", 2, 30)
    let chuot2 = new Rat("Latta", 4, 40)
    let meo = new Cat("Tom", 12, 35)
    console.log(meo.getInfoCat())
    meo.getRat(chuot1)
    chuot1.die()
    console.log(meo.getInfoRat())
    meo.catchRat()
    chuot1.life()
    meo.catchRat()
    chuot2.life()
    meo.getRat(chuot2)
    console.log(meo.getInfoRat())
    meo.catchRat()
</script>
</body>
</html>